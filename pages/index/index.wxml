<!--index.wxml-->
<navigation-bar title="知创时光" back="{{false}}" color="black" background="#FFF"></navigation-bar>
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <view class="header">
      <text class="title">知创时光</text>
      <text class="subtitle">输入文字或上传图片，获取AI生成的创意文案</text>
    </view>

    <view class="input-section">
      <textarea 
        class="text-input" 
        placeholder="请输入需要生成文案的文字..." 
        bindinput="onTextInput"
        value="{{inputText}}"
      ></textarea>

      <view class="divider">- 或 -</view>

      <view class="image-upload" bindtap="chooseImage">
        <icon class="upload-icon" type="add" size="40" color="#999999" wx:if="{{!tempImagePath}}"></icon>
        <image class="preview-image" src="{{tempImagePath}}" mode="aspectFit" wx:if="{{tempImagePath}}"></image>
        <text class="upload-text" wx:if="{{!tempImagePath}}">点击上传图片</text>
      </view>
    </view>

    <button class="generate-btn" bindtap="generateContent" loading="{{isGenerating}}">
      生成文案
    </button>

    <view class="result-section" wx:if="{{generatedContent}}">
      <text class="result-title">生成结果</text>
      <view class="result-content">
        <text>{{generatedContent}}</text>
      </view>
      <button class="copy-btn" bindtap="copyContent">复制文案</button>
    </view>
  </view>
</scroll-view>
